sap.ui.define(["./BaseController","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/Sorter"],function(e,t,a,o,i){"use strict";return e.extend("StaffingApp.horvath.controller.DetailDetail",{onInit:function(){var e=this.getOwnerComponent();this.oRouter=e.getRouter();this.oModel=e.getModel();var a=new t({busy:false,selectedView:"DAY"});this.setModel(a,"empCapacity");this.oRouter.getRoute("detailDetail").attachPatternMatched(this._onPatternMatch,this)},_onPatternMatch:function(e){var t=e.getParameter("arguments"),a=JSON.parse(decodeURIComponent(t.object));this.getModel("empCapacity").setProperty("/busy",true);this.getModel("empCapacity").setData(Object.assign(this.getModel("empCapacity").getData(),{oDetail:a,nTotalAssignedCap:a.AvailabilityInHours,nAbsence:a.AbsenceInHours,aItem:a.aEmpRemaingDays,nTotalWorkCap:a.nProjectAssigned,nTotalUnassignedCap:+a.AvailabilityInHours-+a.AbsenceInHours-+a.nProjectAssigned}));this.getView().getModel("empCapacity").refresh(true);this.getView().getModel("empCapacity").setProperty("/busy",false)},onExit:function(){this.oRouter.getRoute("detailDetail").detachPatternMatched(this._onPatternMatch,this)},onEndColumnClose:function(e){this.getModel("appView").setProperty("/layout",this.getModel("appView").getProperty("/previousLayout"))}})});